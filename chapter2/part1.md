# Главные конструкции C# (Часть 1)

## Метод Main()

Метод ``Main`` — это точка входа приложения C#. В программе на C# может существовать только одна точка входа. Метод ``Main`` должен быть помечен ключевым словом ``static``.

При запуске приложения, первым вызывается метод ``Main``. Если в проекте несколько классов с методом ``Main``, программу нужно компилировать с параметром компилятора StartupObject, чтобы указать, какой из методов ``Main`` будет использоваться в качестве точки входа. 

Точку входа можно создавать с любой из сигнатур
```csharp
static void Main() { }
static int Main() { }
static void Main(string[] args) { }
static int Main(string[] args) { }
```

### Асинхронный метод Main() [C# 7.1]

Метод ``Main`` также может быть асинхронным 
```csharp
static async Task Main() { }
static async Taskint Main() { }
static async Task Main(string[] args) { }
static async Taskint Main(string[] args) { }
```

### Операторы верхнего уровня [C# 9.0]

Точку входа можно задать неявно с помощью операторов верхнего уровня
```csharp
using System;
Console.WriteLine(Hello, World!);
```
Этот код аналогичен предыдущему
```csharp
using System;
namespace Application
{
    class Program
    {
        static void Main()
        {
            Console.WriteLine(Hello World!);
        }
    }
}
```
Существует ряд правил использования операторов верхнего уровня:
* Проект может содержать только один файл с операторами верхнего уровня. В проекте с операторами верхнего уровня нельзя использовать параметр компилятора ``-main`` для выбора точки входа, в случае использования нескольких методов Main.
* Директивы ``using`` должны быть записаны до операторов верхнего уровня.
* Операторы верхнего уровня неявно находятся в глобальном пространстве имен.
* Операторы верхнего уровня должны быть записаны до объявлений пространств имен, типов, функций.
* Операторы верхнего уровня могут ссылаться на переменную ``args``

